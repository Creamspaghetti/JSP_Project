<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<!-- 테일윈드 css 불러오기 -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- css연결 -->
<link rel="stylesheet" href="style/boardlist.css">

<body>
  <div>
    <table style="width: 900px; border: 1px;">
      <tr align="center" valign="middle">
        <td>
          <h3>MVC 게시판</h3>
        </td>
      </tr>
      <tr align="right" valign="middle">
        <td>글 개수 : ${totalCnt }</td>
      </tr>
    </table>
    <table border="1" style="border-collapse: collapse; border-spacing: 0; width: 900px;">
      <tr align="center" valign="middle">
        <th width="8%">번호</th>
        <th width="50%">제목</th>
        <th width="15%">작성자</th>
        <th width="17%">날짜</th>
        <th width="10%">조회수</th>
      </tr>
      <%-- 게시글 작성 --%>
        <c:choose>
          <c:when test="${boardList != null and fn:length(boardList) > 0 }">
            <c:forEach var="board" items="${boardList }">
              <tr align="center" valign="middle" onmouseover="this.style.background='#bbdefb'"
                onmouseout="this.style.background=''">
                <td height="23px">${board.boardnum }</td>
                <td height="23px"><a href="/board/BoardView.bo?boardnum=${board.boardnum }">${board.boardtitle }</a>
                </td>
                <td height="23px">${board.username }</td>
                <td height="23px">${board.boarddata }</td>
                <td height="23px">${board.boardreadcount }</td>
              </tr>
            </c:forEach>
          </c:when>
          <c:otherwise>
            <%-- 게시글이 없는 경우 --%>
              <tr style="height: 50px;">
                <td colspan="5" style="text-align: center;">등록된 게시물이 없습니다.</td>
              </tr>
          </c:otherwise>
        </c:choose>
    </table>
    <br>
    <%-- 페이징 처리 --%>
      <table style="border: 0px; width: 900px;">
        <tr align="center" valign="middle">
          <td>
            <c:if test="${nowPage>1 }">
              <a href="/board/BoardList.bo?page=${nowPage-1 }">[&lt]</a>
            </c:if>
            <c:forEach var="i" begin="${startPage }" end="${endPage }">
              <c:choose>
                <%-- 현재 보고있는 페이지는 a태그 제거 --%>
                  <c:when test="${i == nowPage }">[${i }]</c:when>
                  <c:otherwise>
                    <a href="/board/BoardList.bo?page=${i }">[${i }]</a>
                  </c:otherwise>
              </c:choose>
            </c:forEach>
            <c:if test="${nowPage<totalPage }">
              <a href="/board/BoardList.bo?page=${nowPage+1 }">[&gt]</a>
            </c:if>
          </td>
        </tr>
      </table>
      <table style="border: 0px; width: 900px;">
        <tr align="right" valign="middle">
          <td>
            <a href="/board/BoardWrite.bo">[글쓰기]</a>
          </td>
        </tr>
      </table>
  </div>
</body>

</html>